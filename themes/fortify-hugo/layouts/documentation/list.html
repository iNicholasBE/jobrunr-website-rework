{{ define "main" }}
<section class="section pt-8">
  <div class="container">
    <div class="row">
      <!-- Sidebar Navigation -->
      <aside class="lg:col-3 mb-8 lg:mb-0">
        <div class="docs-sidebar sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto">
          <nav class="docs-nav">
            {{ partial "documentation/sidebar-menu.html" . }}
          </nav>
        </div>
      </aside>

      <!-- Main Content Area -->
      <main class="lg:col-9">
        <article>
          <!-- Page Header -->
          <header class="mb-8">
            <h1 class="mb-4">{{ .Title }}</h1>
            {{ with .Description }}
            <p class="text-lg text-text">{{ . }}</p>
            {{ end }}
          </header>

          <!-- Main Content from _index.md -->
          <div class="content docs-content">
            {{ .Content }}
          </div>

          <!-- List pages in this section -->
          {{ if .RegularPages }}
          <div class="mt-12">
            <h2 class="mb-6">In This Section</h2>
            <div class="row g-4">
              {{ range .RegularPages.ByWeight }}
              <div class="col-12">
                <div class="doc-card rounded-lg border border-border bg-body p-6 transition-all hover:border-primary hover:shadow-lg">
                  <a href="{{ .RelPermalink }}" class="block">
                    <h3 class="mb-2 text-xl font-medium text-text-dark">{{ .Title }}</h3>
                    {{ with .Description }}
                    <p class="text-text">{{ . }}</p>
                    {{ end }}
                  </a>
                </div>
              </div>
              {{ end }}
            </div>
          </div>
          {{ end }}

          <!-- Page Footer -->
          <footer class="mt-12 border-t border-border pt-6">
            {{ with .Lastmod }}
            <p class="text-sm text-text">Last updated: {{ .Format "January 2, 2006" }}</p>
            {{ end }}
          </footer>
        </article>
      </main>
    </div>
  </div>
</section>
{{ end }}
